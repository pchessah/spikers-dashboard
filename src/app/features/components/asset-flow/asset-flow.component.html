<div class="w-full flex flex-col items-center gap-[10px]">
  <h2 class="text-[var(--color-spikers-green)] font-bold text-spikers-xl text-start w-full">Asset Flow</h2>

  <div class="bg-[var(--color-spikers-grey-50)] p-4 rounded-[var(--radius-spikers-lg)] w-full">

    <div class="w-full flex flex-col items-center relative min-h-[200px]">
      <div class="w-full overflow-x-auto">
        <div class="flex flex-row items-center justify-center gap-6 relative z-10 min-w-[700px]">
          <!-- Main flow nodes -->
          <div class="flex flex-row items-center gap-3">
            <!-- Node 1: Source -->
            <div class="flex flex-col items-center">
              <div class="flex items-center justify-center w-12 h-12 rounded-full bg-[var(--color-spikers-blue-bg)]">
                <i class="pi pi-database text-[var(--color-spikers-blue)] text-2xl"></i>
              </div>
              <span class="text-xs text-[var(--color-spikers-soft-grey)] mt-1 font-semibold">Server Alpha</span>
              <span class="text-[10px] text-[var(--color-spikers-soft-grey)]">192.168.1.10</span>
              <span class="inline-block rounded-full px-2 py-0.5 text-xs mt-1 font-bold"
                style="background: var(--color-spikers-contextual-risk-bg); color: var(--color-spikers-critical);">Critical</span>
            </div>
            <!-- Arrow -->
            <svg class="mx-2" width="32" height="24" viewBox="0 0 32 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <line x1="2" y1="12" x2="30" y2="12" stroke="var(--color-spikers-blue)" stroke-width="2" />
              <polygon points="30,12 24,8 24,16" fill="var(--color-spikers-blue)" />
            </svg>
            <!-- Node 2: Processing -->
            <div class="flex flex-col items-center">
              <div class="flex items-center justify-center w-12 h-12 rounded-full bg-[var(--color-spikers-blue-bg)]">
                <i class="pi pi-cog text-[var(--color-spikers-blue)] text-2xl"></i>
              </div>
              <span class="text-xs text-[var(--color-spikers-soft-grey)] mt-1 font-semibold">Workstation Beta</span>
              <span class="text-[10px] text-[var(--color-spikers-soft-grey)]">192.168.1.11</span>
              <span class="inline-block rounded-full px-2 py-0.5 text-xs mt-1 font-bold"
                style="background: var(--color-spikers-contextual-risk-bg); color: var(--color-spikers-critical);">Critical</span>
            </div>
            <!-- Arrow -->
            <svg class="mx-2" width="32" height="24" viewBox="0 0 32 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <line x1="2" y1="12" x2="30" y2="12" stroke="var(--color-spikers-blue)" stroke-width="2" />
              <polygon points="30,12 24,8 24,16" fill="var(--color-spikers-blue)" />
            </svg>
            <!-- Node 3: Destination -->
            <div class="flex flex-col items-center">
              <div class="flex items-center justify-center w-12 h-12 rounded-full bg-[var(--color-spikers-blue-bg)]">
                <i class="pi pi-server text-[var(--color-spikers-blue)] text-2xl"></i>
              </div>
              <span class="text-xs text-[var(--color-spikers-soft-grey)] mt-1 font-semibold">Database Gamma</span>
              <span class="text-[10px] text-[var(--color-spikers-soft-grey)]">192.168.1.12</span>
              <span class="inline-block rounded-full px-2 py-0.5 text-xs mt-1 font-bold"
                style="background: var(--color-spikers-contextual-risk-bg); color: var(--color-spikers-warning);">Warning</span>
            </div>

            <div class="flex flex-col items-center justify-center">
              <!-- Pronged Arrow -->
              <svg width="80" height="120" class="block" viewBox="0 0 80 120" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path d="M0 60 h30" stroke="var(--color-spikers-blue)" stroke-width="2" />
                <path d="M30 60 Q50 30 80 30" stroke="var(--color-spikers-blue)" stroke-width="2" fill="none" />
                <path d="M30 60 Q50 90 80 90" stroke="var(--color-spikers-blue)" stroke-width="2" fill="none" />
                <!-- Arrowheads -->
                <polygon points="80,30 74,26 76,32" fill="var(--color-spikers-blue)" />
                <polygon points="80,90 74,86 76,92" fill="var(--color-spikers-blue)" />
              </svg>

            </div>


            <div class="flex flex-col items-center justify-center min-w-[120px]">
              <!-- User A (top) -->
              <div class="flex flex-col items-center mb-8">
                <div class="flex items-center justify-center w-12 h-12 rounded-full bg-[var(--color-spikers-blue-bg)]">
                  <i class="pi pi-user text-[var(--color-spikers-blue)] text-2xl"></i>
                </div>
                <span class="text-xs text-[var(--color-spikers-soft-grey)] mt-1 font-semibold">Cloud Node Delta</span>
                <span class="text-[10px] text-[var(--color-spikers-soft-grey)]">192.168.1.13</span>
                <span class="inline-block rounded-full px-2 py-0.5 text-xs mt-1 font-bold"
                  style="background: var(--color-spikers-green-bg-active); color: var(--color-spikers-green);">Safe</span>
              </div>
              <!-- User B (bottom) -->
              <div class="flex flex-col items-center mt-8">
                <div class="flex items-center justify-center w-12 h-12 rounded-full bg-[var(--color-spikers-blue-bg)]">
                  <i class="pi pi-user text-[var(--color-spikers-blue)] text-2xl"></i>
                </div>
                <span class="text-xs text-[var(--color-spikers-soft-grey)] mt-1 font-semibold">Cloud Node Epsilon</span>
                <span class="text-[10px] text-[var(--color-spikers-soft-grey)]">192.168.1.14</span>
                <span class="inline-block rounded-full px-2 py-0.5 text-xs mt-1 font-bold"
                  style="background: var(--color-spikers-green-bg-active); color: var(--color-spikers-green);">Safe</span>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>

    <hr class="border-t border-gray-200 my-2 w-full" />

    <div class="flex flex-col sm:flex-row gap-6 items-start mt-4">
      @for (shield of shields; track shield.label) {
      <div class="flex items-center gap-2">
        <div class="flex items-center justify-center w-6 h-6 sm:w-6 sm:h-6 rounded-full" [ngClass]="shield.bgColor">
          <i class="pi pi-shield text-white text-spikers-xs sm:text-spikers-xs"></i>
        </div>
        <span class="text-spikers-sm2 font-semibold" [ngClass]="shield.textColor">{{ shield.label }}</span>
      </div>
      }
    </div>
  </div>
</div>